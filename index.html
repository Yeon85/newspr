<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Îâ¥Ïä§ ‚Äì Î¨¥ÌïúÏä§ÌÅ¨Î°§¬∑Ïä¨ÎùºÏù¥Îçî¬∑Î≥¥Í∏∞</title>
<style>
  :root{ --bg:#f5f6f8; --card:#fff; --ink:#222; --ink2:#666; --line:#e9e9ee; --brand:#0b5bd3; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial,sans-serif;color:var(--ink)}
  body.no-scroll{ overflow:hidden; }

  /* Header */
  header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--line);z-index:20}
  .bar{max-width:520px;margin:0 auto;display:flex;align-items:center;gap:8px;padding:10px 12px}
  .chip{min-width:34px;height:34px;border:1px solid var(--line);border-radius:10px;display:grid;place-items:center;background:#fff;text-decoration:none;color:inherit}
  .title{font-weight:700;margin-left:6px}
  .bar-right{margin-left:auto;display:flex;gap:8px}

  /* Tabs */
  .tabs{max-width:520px;margin:0 auto;display:flex;gap:10px;padding:10px 12px 6px;background:#fff;position:sticky;top:56px;z-index:19;border-bottom:1px solid var(--line)}
  .tab{padding:7px 14px;border:1px solid var(--line);border-radius:999px;background:#fff;font-size:14px;cursor:pointer}
  .tab.is-active{background:var(--brand);border-color:var(--brand);color:#fff}

  /* Page */
  .wrap{max-width:520px;margin:0 auto;padding:10px 12px 40px}
  #topSpacer,#bottomSpacer{height:0}
  .list{display:block}
  .card{background:var(--card);border-radius:14px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:12px;margin-bottom:14px}

  /* ===== Î©îÏù∏ Ïπ¥Îìú Ïä¨ÎùºÏù¥Îçî ===== */
  .mini-slider{
    position:relative;border-radius:12px;overflow:hidden;background:#ddd;
    overscroll-behavior:contain; touch-action:pan-y;
  }
  .mini-slides{display:flex;transition:transform .35s ease}
  .mini-slide{min-width:100%}
  .mini-slide img{
    display:block;width:100%;aspect-ratio:4/5;object-fit:cover;  /* 280√ó350 ÎπÑÏú® */
    cursor:pointer; -webkit-user-drag:none; user-select:none; -webkit-user-select:none; -webkit-touch-callout:none;
  }
  .mini-slider, .mini-slides, .mini-slide img{ overscroll-behavior:contain; touch-action:pan-y; }

  /* ‚Äπ ‚Ä∫ : Îëê Î≤àÏß∏ Ïû•Î∂ÄÌÑ∞ Î≥¥Ïù¥Í∏∞ */
  .mini-nav{position:absolute;top:50%;left:0;right:0;display:flex;justify-content:space-between;transform:translateY(-50%);pointer-events:none;opacity:0;transition:opacity .2s}
  .mini-nav button{pointer-events:auto;border:none;background:rgba(0,0,0,.35);color:#fff;width:32px;height:32px;border-radius:50%;cursor:pointer}
  .mini-slider.show-nav .mini-nav{opacity:1}

  .mini-dots{display:flex;gap:8px;justify-content:center;align-items:center;padding:10px 0 6px}
  .mini-dot{width:8px;height:8px;border-radius:50%;background:#cfd3da;cursor:pointer}
  .mini-dot.active{background:var(--brand)}

  /* Caption 1Ï§Ñ + ÎçîÎ≥¥Í∏∞ */
  .caption{margin-top:2px;font-size:14px;line-height:1.55;color:#222;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}
  .caption.expanded{-webkit-line-clamp:unset;display:block}
  .more-btn{display:inline-flex;gap:4px;align-items:center;margin-top:6px;padding:4px 10px;border:1px solid var(--line);border-radius:999px;background:#fff;font-size:12px;color:#333;cursor:pointer}
  .more-btn[hidden]{display:none!important}
  .meta{display:flex;justify-content:flex-end;color:#666;font-size:12px;margin-top:6px}

  .sentinel{height:24px}

  /* ===== ÌåùÏóÖ(Î∑∞Ïñ¥) ===== */
  .viewer-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:999;}
  .viewer{position:fixed;inset:0;display:none;z-index:1000;overflow:auto;overscroll-behavior:contain}
  .viewer .sheet{max-width:520px;margin:20px auto;background:#fff;border-radius:16px;box-shadow:0 8px 30px rgba(0,0,0,.2);padding:14px}
  .viewer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .viewer-title{font-weight:700}
  .viewer-close{border:1px solid var(--line);background:#fff;border-radius:10px;padding:6px 10px;cursor:pointer}

  .viewer-slider{position:relative;border-radius:12px;overflow:hidden;background:#ddd;touch-action:pan-y;overscroll-behavior:contain}
  .viewer-slides{display:flex;transition:transform .35s ease}
  .viewer-slide{min-width:100%}
  .viewer-slide img{
    display:block;width:100%;aspect-ratio:4/5;object-fit:cover;
    touch-action:none; transform-origin:center center; will-change: transform;
    cursor:pointer; -webkit-user-drag:none; user-select:none; -webkit-user-select:none; -webkit-touch-callout:none;
  }
  .viewer-dots{display:flex;gap:8px;justify-content:center;align-items:center;padding:10px 0 6px}
  .viewer-dot{width:8px;height:8px;border-radius:50%;background:#cfd3da;cursor:pointer}
  .viewer-dot.active{background:var(--brand)}
  .viewer-nav{position:absolute;top:50%;left:0;right:0;display:flex;justify-content:space-between;transform:translateY(-50%);pointer-events:none;}
  .viewer-nav button{pointer-events:auto;border:none;background:rgba(0,0,0,.35);color:#fff;width:36px;height:36px;border-radius:50%;cursor:pointer}

  .viewer-caption{margin-top:8px;font-size:14px;line-height:1.6;color:#222}
  .viewer-meta{display:flex;justify-content:flex-end;color:#666;font-size:12px;margin-top:8px}
  .viewer-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
  .viewer-actions .ghost{border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 14px;cursor:pointer}
  .viewer-actions .primary{border:1px solid var(--brand);background:var(--brand);color:#fff;border-radius:10px;padding:8px 14px;cursor:pointer}

  #viewerSlider.is-zoomed  .viewer-slide img { cursor: grab; }
  #viewerSlider.is-zoomed.is-panning .viewer-slide img { cursor: grabbing; }

  /* ===== TTS ÌïòÏù¥ÎùºÏù¥Ìä∏ ===== */
  .tts-chunk{
    position: relative;
    transition: background .2s ease, box-shadow .2s ease;
    border-radius: 4px;
  }
  .tts-chunk.is-reading{
    box-shadow: inset 0 -0.7em 0 rgba(255, 235, 59, .45); /* ÏùÄÏùÄÌïú ÌòïÍ¥ëÌéú */
  }
</style>
</head>
<body>
  <header>
    <div class="bar">
      <div class="chip" aria-label="Îí§Î°ú">‚Üê</div>
      <div class="title" id="pageTitle">Îâ¥Ïä§</div>
      <div class="bar-right">
        <a class="chip" aria-label="Ìôà" href="https://www.khug.or.kr/index.jsp">üè†</a>
        <div class="chip" aria-label="Î©îÎâ¥">‚â°</div>
      </div>
    </div>
  </header>

  <!-- Tabs -->
  <div class="tabs" role="tablist" aria-label="Îâ¥Ïä§/ÌôçÎ≥¥">
    <button class="tab is-active" data-type="news" aria-selected="true">Îâ¥Ïä§</button>
    <button class="tab" data-type="pr" aria-selected="false">ÌôçÎ≥¥</button>
  </div>

  <main class="wrap">
    <div id="topSpacer"></div>
    <section id="list" class="list"></section>
    <div id="bottomSpacer"></div>
    <div id="sentinel" class="sentinel" aria-hidden="true"></div>
  </main>

  <!-- ====== Viewer ====== -->
  <div id="viewer-backdrop" class="viewer-backdrop"></div>
  <div id="viewer" class="viewer" aria-modal="true" role="dialog" aria-hidden="true">
    <div class="sheet">
      <div class="viewer-header">
        <div class="viewer-title" id="viewerTitle">Îâ¥Ïä§</div>
        <button class="viewer-close" id="viewerCloseBtn" type="button">Îã´Í∏∞</button>
      </div>

      <div class="viewer-slider" data-index="0" id="viewerSlider">
        <div class="viewer-slides" id="viewerSlides"></div>
        <div class="viewer-nav">
          <button id="viewerPrev">‚Äπ</button>
          <button id="viewerNext">‚Ä∫</button>
        </div>
      </div>
      <div class="viewer-dots" id="viewerDots"></div>

      <div class="viewer-caption" id="viewerCaption"></div>
      <div class="viewer-meta" id="viewerDate"></div>

      <div class="viewer-actions">
        <button class="ghost"   id="viewerShareBtn"  type="button">Í≥µÏú†</button>
        <button class="ghost"   id="viewerPlayBtn"   type="button">Ïû¨ÏÉù</button>
        <button class="primary" id="viewerListBtn"   type="button">Î™©Î°ù</button>
      </div>
    </div>
  </div>

<script>
/* ================================
   Í∏¥ ÎçîÎØ∏ Î¨∏Ïû•Îì§ (ÎûúÎç§ Ï°∞Ìï©)
================================ */
const DUMMY_SENTENCES = [
  "Ï†ÑÏÑ∏Î≥¥Ï¶ùÍ∏à Î∞òÌôòÏùÑ ÎëòÎü¨Ïãº Î∂ÑÏüÅÏù¥ Ïù¥Ïñ¥ÏßÄÎ©¥ÏÑú ÏûÑÏ∞®Ïù∏Ïùò Ï†ïÎ≥¥ ÎπÑÎåÄÏπ≠ Ìï¥ÏÜåÍ∞Ä ÏãúÍ∏âÌïòÎã§Îäî ÏßÄÏ†ÅÏù¥ ÎÇòÏò®Îã§.",
  "Ï†ïÎ∂ÄÎäî ÏûÑÎåÄÏ∞® Ïã†Í≥†Ï†ú Î≥¥ÏôÑÍ≥º Î≥¥Ï¶ù Î≥¥Ìóò ÏùòÎ¨¥Ìôî ÌôïÎåÄÎ•º ÏòàÍ≥†ÌñàÏßÄÎßå ÌòÑÏû•Ïùò Ï≤¥Í∞êÎèÑÎäî Ïó¨Ï†ÑÌûà ÎÇÆÎã§.",
  "Ï†ÑÎ¨∏Í∞ÄÎì§ÏùÄ Í≥ÑÏïΩ Ï†Ñ Îã®Í≥ÑÏóêÏÑú Îì±Í∏∞Î∂Ä ÌôïÏù∏Í≥º ÌôïÏ†ïÏùºÏûê, Ï†ÑÏûÖÏã†Í≥†Î•º Í∏∞Î≥∏ÏúºÎ°ú ÌïòÎêò Î≥¥Ï¶ùÏù¥Î†•Í≥º Ï≤¥ÎÇ©Ï†ïÎ≥¥Î•º Ï¢ÖÌï©Ï†ÅÏúºÎ°ú ÏÇ¥ÌîºÎùºÍ≥† Ï°∞Ïñ∏ÌïúÎã§.",
  "Í∏ÄÎ°úÎ≤å Í∏àÏúµÏãúÏû•ÏùÄ ÎØ∏ Ïó∞Ï§ÄÏùò Í∏àÎ¶¨ Ïù∏Ìïò ÏãúÏ†êÏùÑ ÎÜìÍ≥† ÌòºÏ°∞ÏÑ∏Î•º Î≥¥Ïù¥Îäî Í∞ÄÏö¥Îç∞ ÏúÑÌóòÏûêÏÇ∞ ÏÑ†Ìò∏Í∞Ä ÏùºÏãúÏ†ÅÏúºÎ°ú ÌöåÎ≥µÎêòÎäî Î™®ÏäµÏù¥Îã§.",
  "Íµ≠ÎÇ¥ Ï£ºÌÉùÎã¥Î≥¥ÎåÄÏ∂ú Í∏àÎ¶¨Îäî Î≥ÄÎèôÌè≠Ïù¥ Ïª§Ï°åÍ≥†, Ï§ëÎèÑÏÉÅÌôò ÏàòÏàòÎ£å Î©¥Ï†ú Í∏∞Í∞ÑÏùÑ ÌôúÏö©Ìï¥Ïïº Ïù¥Ïûê Î∂ÄÎã¥ÏùÑ Ï§ÑÏùº Ïàò ÏûàÎã§.",
  "ÏùºÎ∂Ä ÏßÄÏó≠ÏùÄ Ïó≠Ï†ÑÏÑ∏Í∞Ä Ïã¨ÌôîÎêòÎ©∞ Íπ°ÌÜµÏ†ÑÏÑ∏ Ïö∞Î†§Í∞Ä ÎÜíÏïÑÏ°åÍ≥†, ÎßåÍ∏∞ ÎèÑÎûò Î¨ºÎüâÏù¥ ÏßëÏ§ëÎêú Íµ¨Í∞ÑÏóêÏÑú Í∞àÎì±Ïù¥ Ïª§ÏßÄÍ≥† ÏûàÎã§.",
  "ÌïÄÌÖåÌÅ¨ ÏóÖÍ≥ÑÎäî Ï†ÑÏÑ∏ Î¶¨Ïä§ÌÅ¨ ÏßÑÎã® ÏÑúÎπÑÏä§Î•º ÌôïÎåÄÌïòÎ©∞ ÏûÑÏ∞®Ïù∏ ÎåÄÏÉÅ ÏÇ¨Ï†Ñ Ï†êÍ≤Ä Î¶¨Ìè¨Ìä∏Î•º ÌëúÏ§ÄÌôîÌïòÎ†§Îäî ÏõÄÏßÅÏûÑÏùÑ Î≥¥Ïù∏Îã§.",
  "ÌïúÌé∏ Í∞ÄÍ≥ÑÎ∂ÄÏ±ÑÏùò ÏßàÏ†Å Íµ¨Ï°∞Í∞Ä ÏïÖÌôîÎêêÎã§Îäî Ïö∞Î†§ÎèÑ ÏûàÏñ¥, Í∏àÏúµÎãπÍµ≠ÏùÄ Ïä§Ìä∏Î†àÏä§ DSR ÏãúÎÆ¨Î†àÏù¥ÏÖòÏùÑ Ï†ïÎ°ÄÌôîÌïòÍ≤†Îã§Í≥† Î∞ùÌòîÎã§.",
  "ÎπÑÌä∏ÏΩîÏù∏ ÌòÑÎ¨º ETF ÏûêÍ∏à Ïú†ÏûÖÏù¥ Ïû¨Í∞úÎêòÎ©∞ Î≥ÄÎèôÏÑ±Ïù¥ ÌôïÎåÄÎêêÍ≥†, Ïû•Ï§ë Í≥†Ï†ê ÎèåÌåå Ïó¨Î∂ÄÍ∞Ä Ïó∞ÎßêÏû•ÏÑ∏Ïùò Î∂ÑÏàòÎ†πÏù¥ Îê† Ï†ÑÎßùÏù¥Îã§.",
  "ÎåÄÏ∂ú Í∏àÎ¶¨ ÏÉÅÎã®ÏùÄ Ï†úÌïúÎêêÏúºÎÇò Í∏∞Ï§ÄÍ∏àÎ¶¨ Í≤ΩÎ°úÍ∞Ä Î∂àÌôïÏã§Ìï¥ Í≥†Ï†ï¬∑Î≥ÄÎèô Ï§ë Ïñ¥Îäê ÌïúÏ™ΩÏóê Î≤†ÌåÖÌïòÍ∏∞Î≥¥Îã§ ÌòºÌï© Ï†ÑÎûµÏù¥ Ïú†Î¶¨ÌïòÎã§Îäî ÌèâÍ∞ÄÎã§.",
  "ÏûÑÎåÄÏù∏Ïùò Ï±ÑÎ¨¥Î∂àÏù¥Ìñâ Î¶¨Ïä§ÌÅ¨Í∞Ä ÌôïÏù∏Îê† Í≤ΩÏö∞, Í≥ÑÏïΩÍ∏à Î∞òÌôò ÌäπÏïΩÍ≥º Îã®Í≥ÑÎ≥Ñ ÏïàÏ†ÑÏû•ÏπòÎ•º Î¨∏ÏÑúÎ°ú ÎÇ®Í∏∞Îäî Í≤å Î∂ÑÏüÅ ÏòàÎ∞©Ïóê Ìö®Í≥ºÏ†ÅÏù¥Îã§.",
  "ÏßÄÎ∞© Ï§ëÏÜåÎèÑÏãúÏóêÏÑúÎäî Ïã†Í∑ú ÏûÖÏ£º Î¨ºÎüâÍ≥º ÎØ∏Î∂ÑÏñë Ï†ÅÏ≤¥Í∞Ä ÎèôÏãú Î∞úÏÉùÌïòÎ©∞ Ï≤¥Í∞êÍ∞ÄÍ≤©Ïù¥ ÌïòÎ∞© ÏïïÎ†•ÏùÑ Î∞õÍ≥† ÏûàÎã§.",
  "Ïã†Í∑ú Ï≤≠ÎÖÑ Ï†ÑÏÑ∏ÎåÄÏ∂úÏùÄ Î≥¥Ï¶ù ÌïúÎèÑÍ∞Ä ÏÉÅÌñ•ÎêêÏßÄÎßå Î≥¥Ï¶ùÎ£å Ïù∏ÏÉÅÏúºÎ°ú Ïã§Ìö®ÏÑ±Ïóê ÎåÄÌïú ÎÖºÏüÅÏù¥ Ïù¥Ïñ¥ÏßÑÎã§.",
  "Î∂ÄÎèôÏÇ∞ Îç∞Ïù¥ÌÑ∞ ÌîåÎû´ÌèºÎì§ÏùÄ Íµ¨Î≥Ñ Í±∞ÎûòÎüâÍ≥º Í∞ÄÍ≤© Î∂ÑÌè¨Î•º ÏãúÍ∞ÅÌôîÌïòÎ©∞ Ï≤¥Í≥ÑÏ†ÅÏù∏ ÎπÑÍµê ÎèÑÍµ¨Î•º Ï†úÍ≥µÌïòÍ∏∞ ÏãúÏûëÌñàÎã§.",
  "Ï†ïÏ±Ö Î≥ÄÏàòÏôÄ Í∏àÎ¶¨ Ïó¨Í±¥Ïù¥ ÍµêÏ∞®ÌïòÎäî Íµ≠Î©¥ÏóêÏÑú Ìà¨Ïûê ÌåêÎã®ÏùÄ Î≥¥ÏàòÏ†ÅÏúºÎ°ú Ï†ëÍ∑ºÌïòÎùºÎäî Ï°∞Ïñ∏Ïù¥ ÌûòÏùÑ ÏñªÎäîÎã§.",
  "Ï†ÑÎ¨∏ Î≥ÄÌò∏ÏÇ¨Îì§ÏùÄ ÎÇ¥Ïö©Ï¶ùÎ™ÖÍ≥º Ï°∞Ï†ï Ï†àÏ∞®Î•º ÌÜµÌï¥ Ïû•Í∏∞ ÏÜåÏÜ°ÏúºÎ°ú Î≤àÏßÄÎäî ÏùºÏùÑ ÏµúÏÜåÌôîÌïòÎùºÍ≥† Í∂åÌïúÎã§.",
  "Ï†ÑÏÑ∏ ÏÇ¨Í∏∞Ïùò Ï†ÑÌòïÏ†Å Ìå®ÌÑ¥ÏùÄ Ï°∞ÏßÅÏ†Å Î∏åÎ°úÏª§ Í∞úÏûÖÍ≥º ÌóàÏúÑ ÏãúÏÑ∏ Ï†úÏãú Îì±ÏúºÎ°ú Î∞òÎ≥µÎêòÎ©∞, ÏòàÎ∞© ÍµêÏú°Ïùò Ï§ëÏöîÏÑ±Ïù¥ Ïª§ÏßÄÍ≥† ÏûàÎã§.",
  "ÏµúÍ∑º Î∞úÌëúÎêú ÌÜµÍ≥ÑÎäî Î≥¥Ï¶ù ÏÇ¨Í≥† Í∏àÏï°Ïù¥ ÏÜåÌè≠ ÎëîÌôîÎêêÏßÄÎßå ÏßÄÏó≠Î≥Ñ Ìé∏Ï∞®Í∞Ä ÌÅ¨Í≤å Î≤åÏñ¥Ï°åÏùåÏùÑ Î≥¥Ïó¨Ï§ÄÎã§.",
  "ÏûÑÏ∞®Ïù∏ Î≥¥Ìò∏Î•º ÏúÑÌïú ÎîîÏßÄÌÑ∏ ÏÑúÎ•ò Í≤ÄÏ¶ùÏù¥ ÌôïÏÇ∞ÎêòÎ©¥ÏÑú Í≥ÑÏïΩ Í≥ºÏ†ïÏùò Ìà¨Î™ÖÏÑ±Ïù¥ Í≥ºÍ±∞Î≥¥Îã§ ÎÜíÏïÑÏ°åÎã§Îäî ÌèâÍ∞ÄÎèÑ ÏûàÎã§.",
  "ÏãúÏû• Ï∞∏Ïó¨ÏûêÎì§ÏùÄ Í∏àÎ¶¨ÏôÄ Í≥µÍ∏â, Ï†ïÏ±Ö 3ÏöîÏÜåÍ∞Ä ÎèôÏãúÏóê ÏôÑÌôîÎêòÎäî ÏãúÏ†êÏùÑ Ï†ÑÌôòÏ†êÏúºÎ°ú Î≥¥Í≥† Í¥ÄÎßùÏÑ∏Î•º Ïú†ÏßÄÌïòÎäî Î∂ÑÏúÑÍ∏∞Îã§."
];
const randInt=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
function makeParagraph(min=6,max=12){
  const count=randInt(min,max), used=new Set(), out=[];
  while(out.length<count){
    const i=randInt(0,DUMMY_SENTENCES.length-1);
    if(used.has(i)) continue;
    used.add(i); out.push(DUMMY_SENTENCES[i]);
  }
  return out.join(' ');
}

/* ================================
   ÏÉÅÌÉú
================================ */
let currentType='news';
const PAGE_SIZE=20, MAX_DOM_CARDS=120, EST_CARD_HEIGHT=470;
let nextCursor=null, reachedEnd=false, loading=false;
let topRemovedCount=0, topSpacerPx=0;

const listEl=document.getElementById('list');
const topSpacer=document.getElementById('topSpacer');
const sentinel=document.getElementById('sentinel');

const pageTitleEl  = document.getElementById('pageTitle');
const viewerTitleEl= document.getElementById('viewerTitle');

function setTitleByType(type){
  const label = (type==='news')? 'Îâ¥Ïä§' : 'ÌôçÎ≥¥';
  pageTitleEl.textContent = label;
  viewerTitleEl.textContent = label;
  document.title = `${label} ‚Äì Î¨¥ÌïúÏä§ÌÅ¨Î°§¬∑Ïä¨ÎùºÏù¥Îçî¬∑Î≥¥Í∏∞`;
}
function applyActiveTab(){
  document.querySelectorAll('.tab').forEach(t=>{
    const active = t.dataset.type === currentType;
    t.classList.toggle('is-active', active);
    t.setAttribute('aria-selected', active ? 'true' : 'false');
  });
}

/* ================================
   Tabs
================================ */
document.querySelectorAll('.tab').forEach(tab=>{
  tab.addEventListener('click',()=>{
    if(tab.classList.contains('is-active'))return;
    document.querySelectorAll('.tab').forEach(t=>{t.classList.remove('is-active');t.setAttribute('aria-selected','false');});
    tab.classList.add('is-active');tab.setAttribute('aria-selected','true');
    currentType=tab.dataset.type;
    setTitleByType(currentType);
    history.replaceState(null, '', `${location.pathname}?type=${currentType}`);
    nextCursor=null; reachedEnd=false; loading=false;
    topRemovedCount=0; topSpacerPx=0; topSpacer.style.height='0';
    listEl.innerHTML='';
    loadNextPage();
  });
});

/* ================================
   Mock Fetch
================================ */
async function fetchPageFromServer(type,cursor,limit){
  await new Promise(r=>setTimeout(r,200));
  const start=cursor?parseInt(cursor,10):0;
  const end=start+limit;
  const items=[];
  for(let i=start;i<end;i++){
    const id=`${type}-${i}`, seed=`${type}-${i}-${randInt(1,9999)}`;
    items.push({
      id,
      title: makeParagraph(6,12),
      images:[
        `https://picsum.photos/seed/${seed}-1/560/700`,
        `https://picsum.photos/seed/${seed}-2/560/700`,
        `https://picsum.photos/seed/${seed}-3/560/700`,
      ],
      date:new Date(Date.now()-i*86400000).toISOString().slice(0,10)
    });
  }
  const mockTotal=10000;
  return {items,nextCursor:end>=mockTotal?null:String(end)};
}

/* ================================
   Infinite + Virtual Scroll
================================ */
async function loadNextPage(){
  if(loading||reachedEnd) return;
  loading=true;
  try{
    const {items,nextCursor:nc}=await fetchPageFromServer(currentType,nextCursor,PAGE_SIZE);
    nextCursor=nc;
    if(!items||!items.length) reachedEnd=true;
    else{ appendCards(items); if(!nc) reachedEnd=true; }
  } finally{ loading=false; }
}
function appendCards(items){ for(const row of items){listEl.appendChild(buildCard(row));} virtualTrimIfNeeded(); }
function virtualTrimIfNeeded(){
  const cards=listEl.children.length;
  if(cards<=MAX_DOM_CARDS)return;
  const removeCount=Math.min(cards-MAX_DOM_CARDS,Math.floor(MAX_DOM_CARDS/2));
  let removedHeight=0;
  for(let i=0;i<removeCount;i++){
    const first=listEl.firstElementChild; if(!first)break;
    removedHeight+=first.getBoundingClientRect().height||EST_CARD_HEIGHT;
    listEl.removeChild(first); topRemovedCount++;
  }
  topSpacerPx+=removedHeight; topSpacer.style.height=topSpacerPx+'px';
  window.scrollBy(0,-removedHeight);
}
const io=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting)loadNextPage();});},{root:null,rootMargin:'800px 0px 800px 0px'});
io.observe(sentinel);

/* ================================
   Card
================================ */
function buildCard(row){
  const card=document.createElement('article'); card.className='card';
  const imgs=row.images?.length?row.images:[placeholder()];
  card.innerHTML=`
    <div class="mini-slider" data-index="0">
      <div class="mini-slides"></div>
      <div class="mini-nav">
        <button class="mini-prev" aria-label="Ïù¥Ï†Ñ">‚Äπ</button>
        <button class="mini-next" aria-label="Îã§Ïùå">‚Ä∫</button>
      </div>
    </div>
    <div class="mini-dots"></div>
    <div>
      <div class="caption" tabindex="0" aria-expanded="false"></div>
      <button class="more-btn" type="button">‚Ä¶ ÎçîÎ≥¥Í∏∞</button>
    </div>
    <div class="meta">${row.date}</div>`;
  const cap=card.querySelector('.caption'); cap.textContent=row.title;
  const btn=card.querySelector('.more-btn');
  btn.addEventListener('click',()=>{const expanded=cap.classList.toggle('expanded');cap.setAttribute('aria-expanded',expanded);btn.textContent=expanded?'Ï†ëÍ∏∞':'‚Ä¶ ÎçîÎ≥¥Í∏∞';});
  cap.addEventListener('click',()=>btn.click());
  requestAnimationFrame(()=>{btn.hidden=!(cap.scrollHeight>cap.clientHeight+1);});
  buildMiniSlider(card,imgs,{title:row.title,date:row.date});
  return card;
}

/* ================================
   Î©îÏù∏ Ïä¨ÎùºÏù¥Îçî (ÌÑ∞Ïπò Ïä§ÏôÄÏù¥ÌîÑ + ÌÅ¥Î¶≠ÏúºÎ°ú ÌåùÏóÖ Ïó¥Í∏∞)
================================ */
function buildMiniSlider(card,srcs,meta){
  const slider=card.querySelector('.mini-slider');
  const slidesEl=card.querySelector('.mini-slides');
  const dotsEl=card.querySelector('.mini-dots');
  slidesEl.innerHTML=''; dotsEl.innerHTML='';

  srcs.forEach((src,i)=>{
    const s=document.createElement('div'); s.className='mini-slide';
    const img=new Image(); img.src=src; img.alt=`Ïù¥ÎØ∏ÏßÄ ${i+1}`; img.setAttribute('draggable','false');
    s.appendChild(img); slidesEl.appendChild(s);
    const d=document.createElement('div'); d.className='mini-dot'; d.addEventListener('click',()=>goTo(slider,i)); dotsEl.appendChild(d);
  });

  card.querySelector('.mini-prev').addEventListener('click',()=>goStep(slider,-1));
  card.querySelector('.mini-next').addEventListener('click',()=>goStep(slider,+1));

  // ÌÑ∞Ïπò Ïä§ÏôÄÏù¥ÌîÑ + Î∞©Ìñ• Ïû†Í∏à(Í∞ÄÎ°úÎ©¥ Í∏∞Î≥∏ Ïä§ÌÅ¨Î°§ ÏñµÏ†ú)
  let startX=null, startY=null, swiped=false, hLock=false;
  slidesEl.addEventListener('touchstart', e=>{
    const t=e.touches[0]; startX=t.clientX; startY=t.clientY; swiped=false; hLock=false;
  }, {passive:true});
  slidesEl.addEventListener('touchmove', e=>{
    if(startX==null) return;
    const t=e.touches[0], dx=t.clientX-startX, dy=t.clientY-startY;
    if(!hLock && (Math.abs(dx)>8 || Math.abs(dy)>8)){ hLock=Math.abs(dx)>Math.abs(dy); }
    if(hLock && e.cancelable) e.preventDefault(); // Í∞ÄÎ°ú Ï†úÏä§Ï≤òÎ©¥ ÌéòÏù¥ÏßÄ Ïä§ÌÅ¨Î°§ ÏñµÏ†ú
  }, {passive:false});
  slidesEl.addEventListener('touchend', e=>{
    if(startX==null) return;
    const dx=e.changedTouches[0].clientX-startX;
    if(Math.abs(dx)>40){ swiped=true; dx<0?goStep(slider,+1):goStep(slider,-1); }
    startX=startY=null;
  }, {passive:true});

  // Ìïú Î≤à ÌÉ≠/ÌÅ¥Î¶≠ ‚Üí Î∑∞Ïñ¥ Ïó¥Í∏∞ (Ïä§ÏôÄÏù¥ÌîÑ ÏßÅÌõÑ Ìï©ÏÑ± ÌÉ≠ÏùÄ Î¨¥Ïãú)
  slidesEl.addEventListener('click', ()=>{
    if(swiped){ swiped=false; return; }
    openViewer(srcs, meta?.title || '', meta?.date || '');
  });

  setIndex(slider,0);
}
function setIndex(slider,i){
  const slidesEl=slider.querySelector('.mini-slides');
  const total=slidesEl.children.length;
  const idx=Math.max(0,Math.min(total-1,i));
  slider.dataset.index=String(idx);
  slidesEl.style.transform=`translateX(${-idx*100}%)`;
  const dots=slider.parentElement.querySelectorAll('.mini-dot');
  dots.forEach((d,k)=>d.classList.toggle('active',k===idx));
  if(idx>=1&&total>1)slider.classList.add('show-nav'); else slider.classList.remove('show-nav');
  slider.querySelector('.mini-prev').disabled=(idx===0);
  slider.querySelector('.mini-next').disabled=(idx===total-1);
}
const goTo=(slider,i)=>setIndex(slider,i);
const goStep=(slider,step)=>setIndex(slider,(+slider.dataset.index||0)+step);

/* ================================
   Viewer
   - Îã´Í∏∞/Î™©Î°ù Î≤ÑÌäºÏúºÎ°úÎßå Îã´Ìûò
   - Í≥µÏú†: ÌÖçÏä§Ìä∏ + URL(Í∞ÄÎä•Ìïú Ìïú) + ÌååÏùº
   - Ïû¨ÏÉù Î≤ÑÌäº: TTSÎßå (Ïù¥ÎØ∏ÏßÄ ÏûêÎèôÎÑòÍπÄ ÏóÜÏùå)
   - ÌïÄÏπòÏ§å/Ìå¨ + Ïä§ÏôÄÏù¥ÌîÑ
================================ */
const viewer      = document.getElementById('viewer');
const backdrop    = document.getElementById('viewer-backdrop');
const vSlidesEl   = document.getElementById('viewerSlides');
const vDotsEl     = document.getElementById('viewerDots');
const vCaptionEl  = document.getElementById('viewerCaption');
const vDateEl     = document.getElementById('viewerDate');
const vPrevBtn    = document.getElementById('viewerPrev');
const vNextBtn    = document.getElementById('viewerNext');
const vCloseBtn   = document.getElementById('viewerCloseBtn');
const vListBtn    = document.getElementById('viewerListBtn');
const vShareBtn   = document.getElementById('viewerShareBtn');
const vPlayBtn    = document.getElementById('viewerPlayBtn');
const vSliderBox  = document.getElementById('viewerSlider');

let vIdx = 0;

/* Zoom/Pan state */
let zScale = 1, zTx = 0, zTy = 0;
const Z_MIN = 1, Z_MAX = 4;
let pinchStartDist = 0, pinchStartScale = 1;
let panStartX = 0, panStartY = 0, panStartTx = 0, panStartTy = 0;
let isPanning = false, isPinching = false;

function viewerImgEl(){ const slide = vSlidesEl.children[vIdx]; return slide ? slide.querySelector('img') : null; }
function resetZoom(){ zScale=1; zTx=0; zTy=0; const img=viewerImgEl(); if(img) img.style.transform=`translate(0px,0px) scale(1)`; vSliderBox.classList.remove('is-zoomed','is-panning'); }
function applyZoom(){ const img=viewerImgEl(); if(!img) return; img.style.transform=`translate(${zTx}px,${zTy}px) scale(${zScale})`; if(zScale>1) vSliderBox.classList.add('is-zoomed'); else vSliderBox.classList.remove('is-zoomed','is-panning'); }
function clampPan(){ const boxW=vSliderBox.clientWidth, boxH=vSliderBox.clientHeight; const maxX=(boxW*(zScale-1))/2, maxY=(boxH*(zScale-1))/2; zTx=Math.max(-maxX,Math.min(maxX,zTx)); zTy=Math.max(-maxY,Math.min(maxY,zTy)); }

function openViewer(imgs, caption, date){
  vSlidesEl.innerHTML=''; vDotsEl.innerHTML='';
  imgs.forEach((src,i)=>{
    const s=document.createElement('div'); s.className='viewer-slide';
    const img=new Image(); img.src=src; img.alt=`Ïù¥ÎØ∏ÏßÄ ${i+1}`; img.setAttribute('draggable','false');
    s.appendChild(img); vSlidesEl.appendChild(s);
    const d=document.createElement('div'); d.className='viewer-dot'; d.addEventListener('click', (e)=>{ e.stopPropagation(); viewerGoTo(i); }); vDotsEl.appendChild(d);
  });
  vCaptionEl.textContent = caption||''; vDateEl.textContent = date||'';
  vIdx=0; viewerUpdate(); resetZoom();

  viewer.style.display='block'; backdrop.style.display='block';
  viewer.setAttribute('aria-hidden','false');
  document.addEventListener('keydown', escCloseOnce);
  document.body.classList.add('no-scroll');

  stopReading(); // Ïó¥Î¶¥ ÎïåÎäî TTS Ï†ïÏßÄ ÏÉÅÌÉú
}
function closeViewer(){
  stopReading();
  viewer.style.display='none'; backdrop.style.display='none';
  viewer.setAttribute('aria-hidden','true');
  document.removeEventListener('keydown', escCloseOnce);
  document.body.classList.remove('no-scroll');
}
function escCloseOnce(e){ if(e.key==='Escape') closeViewer(); if(e.key==='ArrowLeft') viewerStep(-1); if(e.key==='ArrowRight') viewerStep(+1); }

function viewerGoTo(i){ const total=vSlidesEl.children.length; vIdx=Math.max(0,Math.min(total-1,i)); viewerUpdate(); resetZoom(); }
function viewerStep(step){ viewerGoTo(vIdx+step); }
function viewerUpdate(){
  vSlidesEl.style.transform = `translateX(${-vIdx*100}%)`;
  [...vDotsEl.children].forEach((d,i)=> d.classList.toggle('active', i===vIdx));
  vPrevBtn.disabled = (vIdx===0);
  const total = vSlidesEl.children.length;
  vNextBtn.disabled = (vIdx===total-1);

  // Ïä¨ÎùºÏù¥ÎìúÍ∞Ä Î∞îÎÄåÎ©¥ ÏùΩÎäî Ï§ëÏù¥Î©¥ Îã§Ïãú ÏÖãÏóÖ
  if (ttsEnabled){
    const wasEnabled = ttsEnabled;
    stopReading();
    ttsEnabled = wasEnabled;
    vPlayBtn.textContent = 'ÏùºÏãúÏ†ïÏßÄ';
    ttsSpeakCurrentCaption();
  }
}

/* Ïª®Ìä∏Î°§(Ï†ÑÌåå Ï∞®Îã®) */
[vPrevBtn, vNextBtn, vCloseBtn, vListBtn, vShareBtn, vPlayBtn].forEach(btn=>btn.addEventListener('click', e=>e.stopPropagation()));
vPrevBtn.addEventListener('click', ()=>{ stopReading(); viewerStep(-1); });
vNextBtn.addEventListener('click', ()=>{ stopReading(); viewerStep(+1); });
vCloseBtn.addEventListener('click', closeViewer);
vListBtn .addEventListener('click', closeViewer);

/* Í≥µÏú†: ÌÖçÏä§Ìä∏ + URL(+ÌååÏùº Í∞ÄÎä• Ïãú) */
async function shareCurrent(){
  const img=viewerImgEl(); if(!img) return;
  const title=(pageTitleEl?.textContent||'Îâ¥Ïä§&ÌôçÎ≥¥');
  const textBody = (vCaptionEl.textContent||'').trim();
  const urlNow = location.href;
  const composedText = `${textBody}\n\n${urlNow}`;

  const prev=vShareBtn.textContent; vShareBtn.disabled=true; vShareBtn.textContent='Í≥µÏú† Ï§ÄÎπÑ Ï§ë‚Ä¶';
  try{
    // Ïù¥ÎØ∏ÏßÄ blob
    let file=null;
    try{
      const res=await fetch(img.src,{mode:'cors',cache:'no-store'});
      const blob=await res.blob();
      const mime=blob.type||'image/jpeg';
      const ext=(mime.split('/')[1]||'jpg').replace('jpeg','jpg');
      file=new File([blob],`image.${ext}`,{type:mime});
    }catch(_){}

    // (1) ÌååÏùº+ÌÖçÏä§Ìä∏(+URL) ÏãúÎèÑ
    if(file && navigator.canShare && navigator.canShare({files:[file], text: composedText, title})){
      await navigator.share({ title, text: composedText, files:[file] });
      return;
    }
    // (2) ÌååÏùºÎßå Í∞ÄÎä•Ìïú ÌôòÍ≤Ω ‚Üí ÌååÏùº + (ÌÖçÏä§Ìä∏Îäî Î¨¥ÏãúÎê† Ïàò ÏûàÏùå)
    if(file && navigator.canShare && navigator.canShare({files:[file]})){
      await navigator.share({ title, text: composedText, files:[file] });
      return;
    }
    // (3) ÏùºÎ∞ò share: ÌÖçÏä§Ìä∏+URL
    if(navigator.share){
      await navigator.share({ title, text: composedText, url: img.src });
      return;
    }
    // (4) Ìè¥Î∞±: ÌÅ¥Î¶ΩÎ≥¥Îìú
    if (navigator.clipboard){
      await navigator.clipboard.writeText(composedText + `\n${img.src}`);
      alert('ÌÖçÏä§Ìä∏ÏôÄ URLÏù¥ ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§.');
      return;
    }
    // (5) ÏµúÌõÑ: ÌîÑÎ°¨ÌîÑÌä∏
    prompt('ÏïÑÎûò ÎÇ¥Ïö©ÏùÑ Î≥µÏÇ¨ÌïòÏÑ∏Ïöî:', composedText + `\n${img.src}`);
  }catch(e){
    console.error(e);
  }finally{
    vShareBtn.disabled=false; vShareBtn.textContent=prev;
  }
}
vShareBtn.addEventListener('click', shareCurrent);

/* Î∞∞Í≤Ω/ÏãúÌä∏ ÌÅ¥Î¶≠ÏúºÎ°úÎäî Îã´ÌûàÏßÄ ÏïäÍ≤å */
backdrop.addEventListener('click', e=>e.stopPropagation());
viewer.addEventListener('click',  e=>e.stopPropagation());

/* Viewer: Ïä§ÏôÄÏù¥ÌîÑ(ÌôïÎåÄ XÏùº Îïå), Î∞©Ìñ•Ïû†Í∏à */
let vStartX=null, vStartY=null, vHLock=false;
vSlidesEl.addEventListener('touchstart', e=>{
  if (e.touches.length===1 && zScale===1){
    vStartX=e.touches[0].clientX; vStartY=e.touches[0].clientY; vHLock=false;
    stopReading();
  }
},{passive:true});
vSlidesEl.addEventListener('touchmove', e=>{
  if (zScale!==1 || vStartX==null) return;
  const dx=e.touches[0].clientX-vStartX;
  const dy=e.touches[0].clientY-vStartY;
  if(!vHLock && (Math.abs(dx)>8 || Math.abs(dy)>8)){ vHLock=Math.abs(dx)>Math.abs(dy); }
  if(vHLock && e.cancelable) e.preventDefault();
},{passive:false});
vSlidesEl.addEventListener('touchend', e=>{
  if(vStartX==null) return;
  const dx=e.changedTouches[0].clientX-vStartX;
  if(Math.abs(dx)>40) dx<0 ? viewerStep(+1) : viewerStep(-1);
  vStartX=vStartY=null; vHLock=false;
},{passive:true});

/* ÌïÄÏπòÏ§å/Ìå¨ (ÌÑ∞Ïπò) */
vSlidesEl.addEventListener('touchstart', (e)=>{
  if (e.touches.length===2){
    isPinching=true; isPanning=false;
    const [a,b]=e.touches; pinchStartDist=Math.hypot(a.clientX-b.clientX,a.clientY-b.clientY); pinchStartScale=zScale; stopReading();
  } else if (e.touches.length===1 && zScale>1){
    isPanning=true; isPinching=false;
    const t=e.touches[0]; panStartX=t.clientX; panStartY=t.clientY; panStartTx=zTx; panStartTy=zTy; vSliderBox.classList.add('is-panning'); stopReading();
  }
},{passive:false});
vSlidesEl.addEventListener('touchmove', (e)=>{
  if (isPinching && e.touches.length===2){
    if(e.cancelable) e.preventDefault();
    const [a,b]=e.touches; const dist=Math.hypot(a.clientX-b.clientX,a.clientY-b.clientY);
    zScale=Math.max(Z_MIN,Math.min(Z_MAX,(dist/pinchStartDist)*pinchStartScale)); clampPan(); applyZoom();
  } else if (isPanning && e.touches.length===1){
    if(e.cancelable) e.preventDefault();
    const t=e.touches[0]; zTx=panStartTx+(t.clientX-panStartX); zTy=panStartTy+(t.clientY-panStartY); clampPan(); applyZoom();
  }
},{passive:false});
vSlidesEl.addEventListener('touchend', ()=>{
  if (isPinching || isPanning){ isPinching=false; isPanning=false; vSliderBox.classList.remove('is-panning'); }
},{passive:true});

/* ÎßàÏö∞Ïä§ Ìú† Ï§å(Îç∞Ïä§ÌÅ¨ÌÜ±: Ctrl + Ìú†), ÎìúÎûòÍ∑∏ Ìå¨ */
vSlidesEl.addEventListener('wheel', (e)=>{
  if(!e.ctrlKey) return;
  e.preventDefault();
  const delta = -e.deltaY;
  const factor = delta>0 ? 1.05 : 0.95;
  zScale = Math.max(Z_MIN, Math.min(Z_MAX, zScale * factor));
  clampPan(); applyZoom();
},{passive:false});
vSlidesEl.addEventListener('mousedown', (e)=>{
  if (zScale<=1 || e.button!==0) return;
  isPanning = true; isPinching = false;
  panStartX = e.clientX; panStartY = e.clientY;
  panStartTx = zTx; panStartTy = zTy;
  vSliderBox.classList.add('is-panning');
  stopReading();
  e.preventDefault();
});
window.addEventListener('mousemove', (e)=>{
  if (!isPanning) return;
  const dx = e.clientX - panStartX;
  const dy = e.clientY - panStartY;
  zTx = panStartTx + dx;
  zTy = panStartTy + dy;
  clampPan(); applyZoom();
});
window.addEventListener('mouseup', ()=>{
  if (isPanning){ isPanning=false; vSliderBox.classList.remove('is-panning'); }
});

/* ================================
   TTS + ÌòïÍ¥ëÌéú ÌïòÏù¥ÎùºÏù¥Ìä∏
================================ */
let ttsEnabled = false;
const synth = window.speechSynthesis;
let ttsQueue = [];
let ttsIdx   = -1;

function composeCaptionForTTS(){
  return (vCaptionEl.textContent || '').trim();
}

function prepareCaptionChunks(){
  const text = (vCaptionEl.getAttribute('data-raw') ?? composeCaptionForTTS()).trim();
  const chunks = (text.match(/.+?(?:[\.?!‚Ä¶]|$)/g) || [])
                  .map(s=>s.trim()).filter(Boolean);
  vCaptionEl.innerHTML = '';
  chunks.forEach((s,i)=>{
    const span = document.createElement('span');
    span.className = 'tts-chunk';
    span.textContent = s + (i===chunks.length-1 ? '' : ' ');
    vCaptionEl.appendChild(span);
  });
  return chunks;
}
function clearHighlight(){ vCaptionEl.querySelectorAll('.tts-chunk').forEach(el=>el.classList.remove('is-reading')); }
function highlightChunk(i){
  const nodes = [...vCaptionEl.querySelectorAll('.tts-chunk')];
  nodes.forEach((el,k)=> el.classList.toggle('is-reading', k===i));
}

function ttsSpeakCurrentCaption(){
  if (!('speechSynthesis' in window)) {
    vCaptionEl.setAttribute('data-raw', composeCaptionForTTS());
    prepareCaptionChunks(); highlightChunk(0); setTimeout(clearHighlight, 1200);
    return;
  }
  vCaptionEl.setAttribute('data-raw', composeCaptionForTTS());
  ttsQueue = prepareCaptionChunks();
  ttsIdx = -1;
  speakNext();
}
function speakNext(){
  if (!ttsEnabled) return;
  ttsIdx++;
  if (ttsIdx >= ttsQueue.length){ stopReading(); return; }
  clearHighlight(); highlightChunk(ttsIdx);

  const u = new SpeechSynthesisUtterance(ttsQueue[ttsIdx]);
  u.lang  = 'ko-KR'; u.rate = 1.0; u.pitch = 1.0;
  u.onend   = ()=> speakNext();
  u.onerror = ()=> speakNext();

  try{ synth.cancel(); }catch(_){}
  synth.speak(u);
}
function startReading(){
  ttsEnabled = true;
  vPlayBtn.textContent = 'ÏùºÏãúÏ†ïÏßÄ';
  ttsSpeakCurrentCaption();
}
function stopReading(){
  ttsEnabled = false;
  vPlayBtn.textContent = 'Ïû¨ÏÉù';
  try{ synth.cancel(); }catch(_){}
  clearHighlight();
}

/* Î≤ÑÌäº: Ïû¨ÏÉù= TTS ÌÜ†Í∏Ä */
vPlayBtn.addEventListener('click', ()=>{
  if (ttsEnabled) stopReading();
  else startReading();
});

/* Helper */
function placeholder(){
  return "data:image/svg+xml;utf8,"+encodeURIComponent(
    `<svg xmlns='http://www.w3.org/2000/svg' width='560' height='700'>
      <rect width='100%' height='100%' rx='12' fill='#dddddd'/>
      <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='#333' font-size='28'>280√ó350</text>
    </svg>`
  );
}

/* Ï¥àÍ∏∞ Î°úÎìú */
{
  const urlType = new URLSearchParams(location.search).get('type');
  if (urlType === 'news' || urlType === 'pr') currentType = urlType;
  applyActiveTab();
  setTitleByType(currentType);
  loadNextPage();
}
</script>
</body>
</html>
